
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hubspot Coffee - Customer List</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>
<body class="bg-primary text-text flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-secondary p-4 shadow-md">
        <nav class="container mx-auto flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-accent flex items-center">
                <img src="assets/logo.jpeg" alt="Hubspot Coffee Logo" class="h-10 rounded-full mr-2">
                <span class="text-white font-bold px-4 hover:text-accent">Hubspot Coffee</span>
            </a>
            <ul class="flex space-x-6 items-center">
                <li><a href="index.html" class="hover:text-accent">Home</a></li>
                <li><a href="features.html" class="hover:text-accent">Features</a></li>
                <li><a href="products.html" class="hover:text-accent">Products</a></li>
                <li><a href="contact.html" class="hover:text-accent">Contact Us</a></li>
                <li><a href="customers.html" class="hover:text-accent">Customer List</a></li>
                <li><a href="messages.html" class="hover:text-accent">Customer Messages</a></li>
                 <li id="welcomeMsg" class="text-white font-semibold text-base mr-4"></li>
                <li><button id="logoutBtn" class="bg-[#f4c430] text-[#3a2c2c] border-none py-2 px-4 rounded-md cursor-pointer font-semibold transition duration-300 ease-in-out hover:bg-[#e0b124] hover:scale-105">Logout</button></li>
            </ul>
        </nav>
    </header>

    <main class="flex-grow container mx-auto py-16 px-4">
        <h1 class="text-5xl font-bold text-center mb-12">Customer List</h1>
        
        <!-- Search Bar -->
        <div class="mb-8 flex justify-center">
            <input type="text" id="customerSearch" placeholder="Search for customers..." class="w-full max-w-md p-3 rounded-lg bg-secondary text-text border border-gray-600 focus:outline-none focus:border-accent">
        </div>

        <!-- Customer Table -->
        <div class="overflow-x-auto flex justify-center">
            <table id="customerTable" class="min-w-full bg-secondary rounded-lg shadow-lg mx-auto w-full">
                <thead>
                    <tr class="bg-accent text-primary">
                        <th class="py-3 px-6 text-center">Name</th>
                        <th class="py-3 px-6 text-center">Email</th>
                        <th class="py-3 px-6 text-center">Phone</th>
                        <th class="py-3 px-6 text-center">Address</th>
                    </tr>
                </thead>
                <tbody id="customerTableBody">
                    <!-- Customer rows will be dynamically inserted here by JavaScript -->
                </tbody>
            </table>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-secondary p-8 text-center text-text mt-auto">
        <p>&copy; 2025 Hubspot Coffee. All rights reserved.</p>
    </footer>

    <script>
        let customers = [];

        fetch('http://localhost:3000/customers')
            .then(response => response.json())
            .then(data => {
                customers = data;
                renderCustomers(customers);
            });

        const customerSearchInput = document.getElementById('customerSearch');
        const customerTableBody = document.getElementById('customerTableBody');

        function renderCustomers(filteredCustomers) {
            customerTableBody.innerHTML = '';
            filteredCustomers.forEach(customer => {
                const customerRow = `
                    <tr class="border-b border-gray-700">
                        <td class="py-4 px-6 text-center">${customer.name}</td>
                        <td class="py-4 px-6 text-center">${customer.email}</td>
                        <td class="py-4 px-6 text-center">${customer.phone}</td>
                        <td class="py-4 px-6 text-center">${customer.address}</td>
                    </tr>
                `;
                customerTableBody.innerHTML += customerRow;
            });
        }

        customerSearchInput.addEventListener('keyup', (event) => {
            const searchTerm = event.target.value.toLowerCase();
            const filteredCustomers = customers.filter(customer => 
                customer.name.toLowerCase().includes(searchTerm) ||
                customer.email.toLowerCase().includes(searchTerm) ||
                customer.phone.toLowerCase().includes(searchTerm) ||
                customer.address.toLowerCase().includes(searchTerm)
            );
            renderCustomers(filteredCustomers);
        });

        // Initial render
        renderCustomers(customers);
    </script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
      <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script>
    AOS.init();

    // ðŸ”’ Login check
    const isLoggedIn = localStorage.getItem("isLoggedIn");
    const username = localStorage.getItem("username");

    if (isLoggedIn !== "true") {
      window.location.href = "login.html";
    } else {
      document.getElementById("welcomeMsg").textContent = `Welcome, ${username} â˜•`;
    }

    // ðŸšª Logout
    document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("isLoggedIn");
      localStorage.removeItem("username");
      window.location.href = "login.html";
    });
  </script>
</body>
</html>
